--- a/net/minecraft/server/LootTable.java
+++ b/net/minecraft/server/LootTable.java
@@ -40,6 +40,11 @@
 
     public static Consumer<ItemStack> a(Consumer<ItemStack> consumer) {
         return (itemstack) -> {
+            // CraftBukkit start - SPIGOT-4940: no empty loot
+            if (itemstack.isEmpty()) {
+                return;
+            }
+            // CraftBukkit end
             if (itemstack.getCount() < itemstack.getMaxStackSize()) {
                 consumer.accept(itemstack);
             } else {
